<div *ngIf="!finished">
    <ng2-slim-loading-bar id="loading-bar" [color]="'white'" [height]="'1px'"></ng2-slim-loading-bar>
    <div class="row">
        <div class="col-md-12">
            <div class="question">
                Look at the pictures and see if you can make a story with them.
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="possible-images" >
                <div    *ngFor="let card of story?.cards" 
                        (click)="setActiveCard(card)"
                        class="image" 
                        [ngStyle]="{'background-image': 'url(assets/' + card.imageUrl + '.png)'}"
                        [ngClass]="{'active-card': activeCard === card}">
                </div>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="firstCard != null">
        <div class="col-md-12">
            <div class="first-image">
                <div class="card-count">1</div>
                <div    class="image no-move" 
                        [ngStyle]="{'background-image': 'url(assets/' + firstCard?.imageUrl + '.png)'}">
                </div>
            </div>
            <div id="a1" 
                 class="image-box" 
                 [ngClass]="{empty: error && a1.length === 0, 'hover': activeCard && activeHover === 'a1'}"
                 (click)="clickToAddOrRemove('a1')"
                 (mouseover)="hover('a1')"
                 (mouseleave)="unhover()">
                <div class="card-count">2</div>
                <div class="image" 
                     *ngFor="let card of a1" 
                     [ngClass]="{'remove': activeRemoveHover === 'a1'}"
                     [ngStyle]="{'background-image': 'url(assets/' + card.imageUrl + '.png)'}">
                </div>
            </div>
            <div id="a2" 
                 class="image-box" 
                 [ngClass]="{empty: error && a2.length === 0, 'hover': activeCard && activeHover === 'a2'}" 
                 (click)="clickToAddOrRemove('a2')"
                 (mouseover)="hover('a2')"
                 (mouseleave)="unhover()">
                <div class="card-count">3</div>
                <div class="image" 
                     *ngFor="let card of a2"
                     [ngClass]="{'remove': activeRemoveHover === 'a2'}"
                     [ngStyle]="{'background-image': 'url(assets/' + card.imageUrl + '.png)'}">
                </div>
            </div>
            <div id="a3" 
                 class="image-box" 
                 [ngClass]="{empty: error && a3.length === 0, 'hover': activeCard && activeHover === 'a3'}" 
                 (click)="clickToAddOrRemove('a3')"
                 (mouseover)="hover('a3')"
                 (mouseleave)="unhover()">
                <div class="card-count">4</div>
                <div class="image" 
                     *ngFor="let card of a3" 
                     [ngClass]="{'remove': activeRemoveHover === 'a3'}"
                     [ngStyle]="{'background-image': 'url(assets/' + card.imageUrl + '.png)'}">
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 col-md-offset-5">
            <div class="btn btn-default btn-lg" (click)="submit()">
                Finished!
            </div>
        </div>
    </div>
</div>
<div *ngIf="finished" class="margin">
    <div class="row">
        <div class="col-md-12 text-center">
            Well done!
        </div>
    </div>
</div>